{"version":3,"sources":["assets/Scripts/mainGame.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEAoXC;QAjXG,gBAAU,GAAa,IAAI,CAAC;QAG5B,iBAAW,GAAa,IAAI,CAAC;QAG7B,aAAO,GAAW,IAAI,CAAC;QAGvB,UAAI,GAAY,IAAI,CAAC;QAGrB,UAAI,GAAY,IAAI,CAAC;QAGrB,eAAS,GAAY,IAAI,CAAC;QAG1B,mBAAa,GAAc,IAAI,CAAC;QAChC,iBAAW,GAAY,IAAI,CAAC;QAG5B,kBAAY,GAAY,IAAI,CAAC;QAG7B,iBAAW,GAAY,IAAI,CAAC;QAG5B,eAAS,GAAc,IAAI,CAAC;QAG5B,kBAAY,GAAc,IAAI,CAAC;QAG/B,qBAAe,GAAc,IAAI,CAAC;QAGlC,sBAAgB,GAAY,IAAI,CAAC;QAGjC,oBAAc,GAAY,IAAI,CAAC;QAG/B,gBAAU,GAAY,IAAI,CAAC;QAG3B,gBAAU,GAAc,IAAI,CAAC;QAG7B,WAAK,GAAa,IAAI,CAAC;QACvB,iBAAW,GAAW,IAAI,CAAC;QAC3B,YAAM,GAAW,EAAE,CAAC;QACpB,kBAAY,GAAW,EAAE,CAAC;QAC1B,gBAAU,GAAW,CAAC,CAAC;QACvB,gBAAU,GAAW,CAAC,CAAC;QACvB,iBAAW,GAAW,IAAI,CAAC;QAC3B,cAAQ,GAAW,IAAI,CAAC;QACxB,iBAAW,GAAW,IAAI,CAAC;QAC3B,aAAO,GAAU,EAAE,CAAC;QACpB,eAAS,GAAY,IAAI,CAAC;;IAsT9B,CAAC;IApTG,wBAAwB;IAExB,yBAAM,GAAN;QAEI,iBAAiB;QACjB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAE5D,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAEjD,4BAA4B;QAC5B,oCAAoC;QAEpC,+BAA+B;QAE/B,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,KAAK,CAAC;QAEjC,gCAAgC;QAChC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QAErB,iBAAiB;QACjB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAGtD,4DAA4D;QAC5D,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;IAEhE,CAAC;IAED,gCAAa,GAAb;QACI,sEAAsE;QACtE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC9E,CAAC;IAGD,0BAAO,GAAP;QACI,6BAA6B;QAC7B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAG/B,cAAc;QACd,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAE1C,qBAAqB;QACrB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;IAC/D,CAAC;IAED,0BAAO,GAAP;QACI,6BAA6B;QAC7B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAEhC,cAAc;QACd,gCAAgC;QAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC;QAG3B,qBAAqB;QACrB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;IAC/D,CAAC;IAED,wBAAK,GAAL;QAAA,iBAuBC;QAtBG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEtC,uBAAuB;QACvB,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjB,wBAAwB;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,oBAAoB;QACpB,sEAAsE;QAEtE,gBAAgB;QAChB,8DAA8D;QAC1D,IAAG,IAAI,CAAC,OAAO,IAAI,CAAC,EAAC;YACrB,wBAAwB;YACpB,IAAI,CAAC,QAAQ,EAAE,CAAC;YACpB,UAAU,CAAC;gBACP,KAAI,CAAC,QAAQ,EAAE,CAAC;YACpB,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SACxD;QACD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;IAChE,CAAC;IAED,gCAAa,GAAb;QAEI,WAAW;QACX,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAC9B,WAAW;QACX,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QAC3B,IAAG,MAAM,IAAI,GAAG,EAAC;YACb,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;SAC9B;aAAM;YACH,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;SAC9B;QAED,gBAAgB;QAChB,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QACvD,+CAA+C;QAC/C,IAAI,CAAC,IAAI,EAAE,CAAC;QACX,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,KAAK,EAAC;YACnC,yDAAyD;YACxD,cAAc;YACf,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;YACpD,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;YAE5C,IAAG,IAAI,CAAC,YAAY,IAAI,MAAM,EAAC;gBAC3B,UAAU,CAAC;oBACP,IAAI,CAAC,IAAI,EAAE,CAAC;gBAChB,CAAC,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;aAC9B;iBAAM;gBACH,UAAU,CAAC;oBACP,IAAI,CAAC,IAAI,EAAE,CAAA;gBACf,CAAC,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;aAC9B;SAEH;aAAM;YACJ,SAAS;YACT,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;YAC3D,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;YAE1D,IAAG,IAAI,CAAC,YAAY,IAAI,MAAM,EAAC;gBAC3B,UAAU,CAAC;oBACP,IAAI,CAAC,IAAI,EAAE,CAAC;gBAChB,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;aACvB;iBAAM;gBACH,UAAU,CAAC;oBACP,IAAI,CAAC,IAAI,EAAE,CAAA;gBACf,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;aACvB;SACH;QAGF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IAGD,gCAAa,GAAb,UAAc,MAAc;QAA5B,iBAmCC;QAlCG,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAC3D,4BAA4B;QAC5B,IAAI,IAAI,CAAC,YAAY,IAAI,MAAM,EAAE;YAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;YACjF,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACtC,2BAA2B;YAC3B,UAAU,CAAC;gBACP,uBAAuB;gBACvB,YAAY,CAAC,MAAM,GAAG,SAAS,CAAC;gBAChC,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAG,KAAI,CAAC,WAAW,GAAG,CAAC,EAAC;oBACpB,KAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;iBACnC;gBACD,cAAc;gBACd,KAAI,CAAC,SAAS,EAAE,CAAC;YACrB,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SAExD;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YAClF,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACtC,UAAU,CAAC;gBACP,YAAY,CAAC,MAAM,GAAG,UAAU,CAAC;gBACjC,IAAG,KAAI,CAAC,WAAW,GAAG,CAAC,EAAC;oBACpB,KAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;iBACnC;YACL,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SACxD;QAID,uBAAuB;QACvB,qBAAqB;QACrB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;IACpE,CAAC;IAGD,kDAAkD;IAClD,qCAAkB,GAAlB,UAAmB,OAA4D;QAA/E,iBAgCC;QA/BG,4CAA4C;QAC5C,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,CAAC;QAC1C,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAE9B,sBAAsB;QACtB,IAAM,YAAY,GAAG,OAAO,CAAC,MAAM,CAAC;QACpC,IAAM,UAAU,GAAG,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE5D,+CAA+C;QAC/C,IAAM,QAAQ,GAAG,GAAG,CAAC;QACrB,IAAM,QAAQ,GAAG,GAAG,CAAC;QACrB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,KAAK;YAC5C,yBAAyB;YACzB,IAAI,UAAU,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;YAEnD,yDAAyD;YACzD,KAAI,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YACtC,6DAA6D;YAE7D,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;YAClC,IAAM,GAAG,GAAG,KAAK,GAAG,CAAC,CAAC;YAEtB,qCAAqC;YACrC,UAAU,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,QAAQ,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC;YAGnG,iDAAiD;YACjD,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;YACtC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;IAEP,CAAC;IAED,+BAAY,GAAZ,UAAa,UAAmB,EAAE,MAAyD;QACvF,gEAAgE;QAEhE,IAAI,WAAW,GAAG,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAC7E,IAAI,WAAW,GAAG,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAC7E,IAAI,UAAU,GAAG,UAAU,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAE3E,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,+BAA+B,CAAC,CAAC;QAC1D,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,+BAA+B,CAAC,CAAC;QAG1D,iDAAiD;QAEjD,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,mBAAmB,CAAC,CAAC;QAC7C,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;QACrC,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,EAAE;YAC1C,kDAAkD;YAClD,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YACnC,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YACnC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YAE5C,iDAAiD;YACjD,8CAA8C;YAC9C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC3C,gDAAgD;YAChD,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,qBAAqB,CAAC,CAAC;YAChD,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,qBAAqB,CAAC,CAAC;SAEnD;QAED,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;QACpD,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC;IAGD,qBAAqB;IACrB,0BAAO,GAAP;QACI,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,EAAC,GAAG,EAAC,CAAC,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAED,WAAW;IACX,4BAAS,GAAT;QACI,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAChE,CAAC;IAED,4BAAS,GAAT;QACI,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAChE,CAAC;IAED,4BAAS,GAAT;QACI,qBAAqB;QAErB,oCAAoC;QACpC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,KAAK,CAAC;QAEjC,eAAe;QACf,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;IAC1D,CAAC;IAED,aAAa;IACb,2BAAQ,GAAR;QACI,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC7D,0CAA0C;QAC1C,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACjD,CAAC;IAED,2BAAQ,GAAR;QAAA,iBAMC;QALG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QACrE,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;YAC5B,OAAA,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,CAAC,OAAO,CAAC;QAAxC,CAAwC,CAAC;QACzC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAEhD,CAAC;IAED,4BAAS,GAAT;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAhXD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDACS;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACU;IAG7B;QADC,QAAQ;6CACc;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACG;IAGrB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACG;IAGrB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACQ;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;mDACY;IAIhC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACW;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACU;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACW;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;qDACc;IAGlC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACe;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACa;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACS;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gDACS;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;2CACI;IApDN,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAoX5B;IAAD,eAAC;CApXD,AAoXC,CApXqC,EAAE,CAAC,SAAS,GAoXjD;kBApXoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Label)\n    playerName: cc.Label = null;\n\n    @property(cc.Label)\n    showAttempt: cc.Label = null;\n\n    @property\n    attempt: number = null;\n\n    @property(cc.Node)\n    grey: cc.Node = null;\n\n    @property(cc.Node)\n    gold: cc.Node = null;\n\n    @property(cc.Node)\n    choiceBtn: cc.Node = null;\n\n    @property(cc.Prefab)\n    winLosePrefab: cc.Prefab = null;\n    winLoseNode: cc.Node = null;\n\n    @property(cc.Node)\n    spinAgainBtn: cc.Node = null;\n\n    @property(cc.Node)\n    spinFeather: cc.Node = null;\n\n    @property(cc.Toggle)\n    isSpeedUp: cc.Toggle = null;\n\n    @property(cc.Prefab)\n    resultPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    checkMarkPrefab: cc.Prefab = null;\n\n    @property(cc.Node)\n    summaryTableNode: cc.Node = null;\n\n    @property(cc.Node)\n    tableContainer: cc.Node = null;\n\n    @property(cc.Node)\n    background: cc.Node = null;\n\n    @property(cc.Button)\n    nextButton: cc.Button = null;\n\n    @property(cc.Label)\n    score: cc.Label = null;\n    playerScore: number = null;\n    choice: string = '';\n    randomChoice: string = '';\n    randomGold: number = 0;\n    randomGrey: number = 0;\n    deductScore: number = null;\n    addScore: number = null;\n    scoreResult: number = null;\n    results: any[] = [];\n    checkMark: cc.Node = null;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n\n        //get player name\n        this.getPlayerName();\n        this.playerScore = 100;\n        this.score.string = \"Score: \" + this.playerScore.toString();\n\n        console.log('default score: ', this.playerScore);\n\n        //set toggle to is not check\n        // this.isSpeedUp.isChecked = false;\n\n        //hide win and lose, spinAgain \n\n        this.spinAgainBtn.active = false;\n\n        //set value to attempt and score\n        this.attempt = 7;\n        this.scoreResult = 0;\n\n        //instance prefab\n        this.checkMark = cc.instantiate(this.checkMarkPrefab);\n        \n\n        //go botton can't click unit the gold/grey has been selected\n        this.choiceBtn.getComponent(cc.Button).interactable = false;\n\n    }\n\n    getPlayerName() {\n        //get player name from localstorage which pass from the previous scene\n        this.playerName.string = cc.sys.localStorage.getItem('player').toString();\n    }\n\n\n    greyBtn() {\n        //if click set choice to grey\n        this.choice = \"Grey\";\n        console.log('on', this.choice);\n\n\n        //check remark\n        this.node.addChild(this.checkMark);\n        this.checkMark.setPosition(-220, -200, 0); \n\n        //interactable button\n        this.grey.getComponent(cc.Button).interactable = false;\n        this.gold.getComponent(cc.Button).interactable = false;\n        this.choiceBtn.getComponent(cc.Button).interactable = true;\n    }\n\n    goldBtn() {\n        //if click set choice to gold\n        this.choice = \"Gold\";\n        console.log('off', this.choice);\n\n        //check remark\n        // this.goldCheck.active = true;\n        this.node.addChild(this.checkMark);\n        this.checkMark.setPosition(360, -215, 0); \n        this.checkMark.angle = -10;\n\n\n        //interactable button\n        this.gold.getComponent(cc.Button).interactable = false;\n        this.grey.getComponent(cc.Button).interactable = false;\n        this.choiceBtn.getComponent(cc.Button).interactable = true;\n    }\n\n    goBtn() {\n        this.node.removeChild(this.checkMark);\n\n        //deduction 10 for play\n        this.attempt -= 1;\n        this.deduction();\n\n        //onclick play aniamtion\n        this.playAnimation();\n        \n        //instantiate prefab\n        // let tableSummary = cc.instantiate(this.summaryTableContainerPrefab)\n        \n        // check attempt\n        // if ((this.playerScore == 0) || (this.playerScore >= 200)) {\n            if(this.attempt == 0){\n            // if(this.attempt = 5){\n                this.storeRes();\n            setTimeout(() => {\n                this.newScene();  \n            }, (this.isSpeedUp.isChecked == true) ? 3000 : 5500);\n        }\n        this.choiceBtn.getComponent(cc.Button).interactable = false;\n    }\n\n    playAnimation() {\n\n        //new logic\n        console.log('play animation');\n        //new logic\n        let result = Math.random();\n        if(result >= 0.5){\n            this.randomChoice = \"Gold\";\n        } else {\n            this.randomChoice = \"Grey\";\n        }\n\n        //play animation\n        var anim = this.spinFeather.getComponent(cc.Animation);\n        // anim.getAnimationState('greyRes').speed = 1;\n        anim.play();\n         if (this.isSpeedUp.isChecked == false){\n            // console.log('is speed up: ',this.isSpeedUp.isChecked);\n             //normal speed\n            this.randomGold = (Math.random() * (250 - 180) + 180);\n            this.randomGrey = (Math.random() * (120 - 60) + 60);\n            anim.getAnimationState('greyRes').speed = 1;\n\n            if(this.randomChoice == \"Gold\"){\n                setTimeout(() => {\n                    anim.stop();\n                }, this.randomGold + 5000);\n            } else {\n                setTimeout(() => {\n                    anim.stop()\n                }, this.randomGrey + 5000);\n            }\n\n         } else {\n            //speedup\n            anim.getAnimationState('greyRes').speed = 2;\n            this.randomGold = (Math.random() * (125 - 90) + 90) + 2500;\n            this.randomGrey = (Math.random() * (60 - 30) + 30) + 2500;\n\n            if(this.randomChoice == \"Gold\"){\n                setTimeout(() => {\n                    anim.stop();\n                }, this.randomGold);\n            } else {\n                setTimeout(() => {\n                    anim.stop()\n                }, this.randomGrey);\n            }\n         }\n        \n        \n        this.compareChoice(this.choice);\n    }\n\n\n    compareChoice(choice: string) {\n        this.winLose();\n        let winLostLabel = this.winLoseNode.getComponent(cc.Label);\n        //compare choice to computer\n        if (this.randomChoice == choice) {\n            this.results.push({ result: this.randomChoice, player: this.choice, score: 20 });\n            this.updateSummaryTable(this.results);\n            //set a delay then do 1 & 2\n            setTimeout(() => {\n                //1. show win and spin \n                winLostLabel.string = \"You Win\";\n                this.scoreResult = 20;\n                if(this.playerScore > 0){\n                    this.spinAgainBtn.active = true;\n                }\n                //2. add score\n                this.gainScore();\n            }, (this.isSpeedUp.isChecked == true) ? 2600 : 5100);\n\n        } else {\n            this.results.push({ result: this.randomChoice, player: this.choice, score: -10 });\n            this.updateSummaryTable(this.results);\n            setTimeout(() => {\n                winLostLabel.string = \"You Lose\";\n                if(this.playerScore > 0){\n                    this.spinAgainBtn.active = true;\n                }\n            }, (this.isSpeedUp.isChecked == true) ? 2600 : 5100);\n        }\n\n        \n\n        //decrease the attempt \n        // this.attempt -= 1;\n        this.showAttempt.string = \"Attempt: \" + this.attempt.toString();\n    }\n\n\n    // Update the summary table with the given results\n    updateSummaryTable(results: { result: string, player: string, score: number }[]) {\n        // Clear existing items in the summary table\n        this.summaryTableNode.removeAllChildren();\n        console.log(results, 'table');\n\n        //to show last 5 index\n        const totalResults = results.length;\n        const startIndex = totalResults >= 5 ? totalResults - 5 : 0;\n\n        // Set spacing between items (adjust as needed)\n        const spacingX = 100;\n        const spacingY = 100;\n        results.slice(startIndex).forEach((result, index) => {\n            // Instantiate the prefab\n            let resultItem = cc.instantiate(this.resultPrefab);\n            \n            // Call the updateResult method to set the result details\n            this.updateResult(resultItem, result);\n            // this.getComponent('result').showTable(resultItem, result);\n            \n            const row = Math.floor(index / 5);  \n            const col = index % 5; \n\n            // Set the position of the resultItem\n            resultItem.setPosition(col * (resultItem.width + spacingX), -row * (resultItem.height + spacingY));\n\n    \n            // Add the instantiated item to the summary table\n            console.log(resultItem, 'resultitem');\n            console.log(result, 'result =====');\n        });\n        \n    }\n\n    updateResult(resultItem: cc.Node, result: { result: string, player: string, score: number }) {\n        // Access the components of the resultItem and update the values\n\n        let labelResult = resultItem.getChildByName('result').getComponent(cc.Label);\n        let labelPlayer = resultItem.getChildByName('player').getComponent(cc.Label);\n        let labelScore = resultItem.getChildByName('score').getComponent(cc.Label);\n\n        console.log(labelResult, 'get child label result-------');\n        console.log(labelPlayer, 'get child label player-------');\n\n\n        // resultItem.addChild(labelResult, labelPlayer);\n\n        console.log(resultItem, 'resultItem-------');\n        console.log(result, 'result-------');\n        if (labelResult && labelPlayer && labelScore) {\n            // Set the result details on the instantiated item\n            labelResult.string = result.result;\n            labelPlayer.string = result.player;\n            labelScore.string = result.score.toString();\n\n            // Add the instantiated item to the summary table\n            // this.summaryTableNode.addChild(resultItem);\n            this.summaryTableNode.addChild(resultItem);\n            // console.log(resultItem, 'resultItem-------');\n            console.log(labelResult, 'label result-------');\n            console.log(labelPlayer, 'label player-------');\n\n        }\n\n        console.log(labelResult, labelPlayer, '------------');\n        console.log(this.summaryTableNode, 'summary table');\n        console.log(resultItem);\n    }\n\n\n    //display win or lost\n    winLose(){\n        this.winLoseNode = cc.instantiate(this.winLosePrefab);\n        this.winLoseNode.setPosition(0,160,-1);\n        this.node.addChild(this.winLoseNode);\n    }\n\n    //add score\n    gainScore() {\n        this.playerScore += 20;\n        this.score.string = \"Score: \" + this.playerScore.toString();\n    }\n\n    deduction(){\n        this.playerScore -= 10;\n        this.score.string = \"Score: \" + this.playerScore.toString();\n    }\n\n    spinAgain() {\n        //diable check remark\n\n        //hide the win, lose and spin button\n        this.node.removeChild(this.winLoseNode);\n        this.spinAgainBtn.active = false;\n\n        //enabel button\n        this.grey.getComponent(cc.Button).interactable = true;\n        this.gold.getComponent(cc.Button).interactable = true;\n    }\n\n    //store score\n    storeRes() {\n        cc.sys.localStorage.setItem('playerScore', this.playerScore);\n        // console.log('my arrr: ',this.myChoice);\n        console.log('com arrrr: ', this.playerScore);\n    }\n\n    newScene(){\n        cc.sys.localStorage.setItem('results', JSON.stringify(this.results));\n        cc.director.loadScene('final'), () => \n            cc.game.emit('resultData', this.results);\n            console.log('emit final', this.results);\n\n    }\n\n    nextScene(){\n        this.newScene();\n    }\n}\n"]}