{"version":3,"sources":["assets/Scripts/mainGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Label)\n    playerName: cc.Label = null;\n\n    @property(cc.Label)\n    showAttempt: cc.Label = null;\n\n    @property\n    attempt: number = null;\n\n    @property(cc.Node)\n    grey: cc.Node = null;\n\n    @property(cc.Node)\n    gold: cc.Node = null;\n\n    @property(cc.Node)\n    choiceBtn: cc.Node = null;\n    randomResult: string = null;\n\n    @property(cc.Node)\n    winText: cc.Node = null;\n\n    @property(cc.Node)\n    loseText: cc.Node = null;\n\n    @property(cc.Node)\n    spinAgainBtn: cc.Node = null;\n\n    @property(cc.Node)\n    spinFeather: cc.Node = null;\n\n    @property(cc.Node)\n    greyCheck: cc.Node = null;\n\n    @property(cc.Node)\n    goldCheck: cc.Node = null;\n\n    @property(cc.Label)\n    score: cc.Label = null;\n    playerScore: number = 0;\n    choice: string = '';\n    randomChoice: string = ' ';\n    randomDelay: number;\n\n\n\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        //get player name\n        this.getPlayerName();\n\n        //hide win and lose, spinAgain \n        this.winText.active = false;\n        this.loseText.active = false;\n        this.spinAgainBtn.active = false;\n\n        //set value to attempt and score\n        this.attempt = 10;\n        this.playerScore = 0;\n\n    }\n\n    getPlayerName() {\n        //get player name from localstorage which pass from the previous scene\n        this.playerName.string = cc.sys.localStorage.getItem('player').toString();\n    }\n\n\n    greyBtn() {\n        //if click set choice to grey\n        this.choice = \"Grey\";\n        console.log('on', this.choice);\n\n        //check remark\n        this.greyCheck.active = true;\n\n        //interactable button\n        this.grey.getComponent(cc.Button).interactable = false;\n        this.gold.getComponent(cc.Button).interactable = false;\n    }\n\n    goldBtn() {\n        //if click set choice to gold\n        this.choice = \"Gold\";\n        console.log('off', this.choice);\n\n        //check remark\n        this.goldCheck.active = true;\n\n        //interactable button\n        this.gold.getComponent(cc.Button).interactable = false;\n        this.grey.getComponent(cc.Button).interactable = false;\n    }\n\n    goBtn() {\n        //onclick play aniamtion\n        this.playAnimation();\n        // check attempt\n        if (this.attempt == 1) {\n            this.storeScore();\n            setTimeout(() => {\n                this.newScene();\n            }, this.randomDelay + 2000);\n        }\n        this.choiceBtn.getComponent(cc.Button).interactable = false;\n        this.compareChoice(this.choice);\n    }\n\n    playAnimation() {\n\n        //new logic\n        let result = Math.random();\n        if(result >= 0.5){\n            this.randomChoice = \"Gold\";\n        } else {\n            this.randomChoice = \"Grey\";\n        }\n\n        //play animation\n        var anim = this.spinFeather.getComponent(cc.Animation);\n        anim.play();\n\n        this.randomDelay = Math.random() * 500 + 1000;\n        console.log('random delay: ', this.randomDelay);\n\n        //pause animation\n        setTimeout(() => {\n            anim.stop()\n        }, this.randomDelay);\n        cc.log(setTimeout(Number));\n\n        //set value to choice\n        if((this.randomDelay < 1275.5001) && (this.randomDelay > 1011.00)){\n            this.randomChoice = \"Gold\";\n        } else {\n            this.randomChoice = \"Grey\";\n        }\n        \n        console.log('animatio res: ',this.randomChoice)\n    }\n\n\n    compareChoice(choice: string) {\n        console.log('compare choice', choice);\n        console.log('random choice: ',this.randomChoice);\n\n        //compare choice to computer\n        if (this.randomChoice == this.choice) {\n            //set a delay then do 1 & 2\n            setTimeout(() => {\n                //1. show win and spin \n                this.winText.active = true;\n                this.spinAgainBtn.active = true;\n\n                //2. add score\n                this.gainScore();\n            }, this.randomDelay+1000);\n\n        } else {\n            setTimeout(() => {\n                this.loseText.active = true;\n                this.spinAgainBtn.active = true;\n            }, this.randomDelay+1000);\n\n\n        }\n\n        //decrease the attempt \n        this.attempt -= 1;\n        this.showAttempt.string = \"Attempt: \" + this.attempt.toString();\n        console.log('attemp', this.attempt)\n\n\n    }\n\n\n    //add score\n    gainScore() {\n        this.playerScore += 1;\n        this.score.string = \"Score: \" + this.playerScore.toString();\n    }\n\n    spinAgain() {\n        //diable check remark\n        this.greyCheck.active = false;\n        this.goldCheck.active = false;\n\n        //hide the win, lose and spin button\n        this.winText.active = false;\n        this.loseText.active = false;\n        this.spinAgainBtn.active = false;\n\n        //enabel button\n        this.grey.getComponent(cc.Button).interactable = true;\n        this.gold.getComponent(cc.Button).interactable = true;\n        this.choiceBtn.getComponent(cc.Button).interactable = true;\n    }\n\n    //store score\n    storeScore() {\n        cc.sys.localStorage.setItem('playerScore', this.playerScore);\n    }\n\n    newScene(){\n        cc.director.loadScene('final');\n    }\n\n\n\n    // update (dt) {}\n}\n"]}